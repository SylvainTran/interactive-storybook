<div class="flex-container">
    <div class="gameCanvas">
        <div class="poetry-game-section avatar-display">
            <div class="locationBg">
                <div class="enemy-pic">Bard: The quest has started: {{ ActiveQuestName }}</div>
                <div class="enemy-pic" >Bard: {{ BardText }}</div>
            </div>
            <div class="flex-centered">
                <div class="character-prompt-container">
                    <div *ngIf="promptReplyBuilder?.showPrompt && activePartyQuest">
                        <p>{{ activePartyQuest!.getRegistrants()[1] }}: {{ ActivePrompt.getText() }}</p><br>
                        <p *ngIf="promptReplyBuilder?.showPlayerPromptReply">Autumn: {{ promptReplyBuilder?.activePromptReply }}</p><br>
                        <p *ngIf="promptReplyBuilder?.showCharacterPromptReply">{{ activePartyQuest!.getRegistrants()[1] }}: {{ promptReplyBuilder?.activeCharacterPromptReply }}</p>
                        
                        <div *ngIf="promptReplyBuilder?.showPlayerOptions">
                            <button id="prompt-bt-a" (click)='handlePromptReplyClick(0)'>{{ this.promptList[this.promptIterator].getPlayerOptions()![0] }}</button>
                            <button id="prompt-bt-b" (click)='handlePromptReplyClick(1)'>{{ this.promptList[this.promptIterator].getPlayerOptions()![1] }}</button>
                            <button id="prompt-bt-c" (click)='handlePromptReplyClick(2)'>{{ this.promptList[this.promptIterator].getPlayerOptions()![2] }}</button>    
                        </div>
                    </div>
                </div>
            </div>
            <label for="avatar-pic-id">Click \|/</label>
            <div class="gameClickHandler">
                <h3>{{ AvatarName }}</h3>&nbsp;&nbsp;
                <div id="avatar-pic-id" [class.avatar-alive]="AvatarStats.currentHealth > 0" [class.avatar-dead]="AvatarStats.currentHealth <= 0" class="avatar-pic" (click)="handleAvatarClicked($event)" clickable>
                    <div *ngIf="PlayerDisplayState === 0">
                        {{ PlayerAvatar.Idle }}
                    </div>
                    <div *ngIf="PlayerDisplayState === 1">
                        {{ PlayerAvatar.Fighting }}
                    </div>
                    <div *ngIf="PlayerDisplayState === 2">
                        {{ PlayerAvatar.Victorious }}
                    </div>
                    <div *ngIf="PlayerDisplayState === 3">
                        {{ PlayerAvatar.Defeated }}
                    </div>
                    <div *ngIf="PlayerDisplayState === 4">
                        {{ PlayerAvatar.Dead }}
                    </div>
                </div>&nbsp;&nbsp;
                <!-- Friend -->
                <h3>{{ activePartyQuest!.getRegistrants()[1] }}</h3>&nbsp;&nbsp;
                <div class="avatar-pic">
                    <div *ngIf="PlayerDisplayState === 0">
                        {{ FriendAvatar.Idle }}
                    </div>
                    <div *ngIf="PlayerDisplayState === 1">
                        {{ FriendAvatar.Fighting }}
                    </div>
                    <div *ngIf="PlayerDisplayState === 2">
                        {{ FriendAvatar.Victorious }}
                    </div>
                    <div *ngIf="PlayerDisplayState === 3">
                        {{ FriendAvatar.Defeated }}
                    </div>
                    <div *ngIf="PlayerDisplayState === 4">
                        {{ FriendAvatar.Dead }}
                    </div>
                </div>    
            </div>
            <app-avatar-detail [currentHealth]="AvatarStats.currentHealth" [currentLevel]="AvatarStats.currentLevel" [currentExperience]="AvatarStats.currentExperience" [experienceTotalRequired]="AvatarStats.experienceTotalRequired"></app-avatar-detail>            
        </div>
    </div>
</div>
